import requests
from bs4 import BeautifulSoup
import json

data_list = []
for i in range(3):
  jd = {}
  url = f"https://www.saksfifthavenue.com/c/women-s-apparel?start={i}"

  payload={}
  headers = {
    'authority': 'www.saksfifthavenue.com',
    'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',
    'accept-language': 'en-US,en;q=0.9',
    'cache-control': 'max-age=0',
    'cookie': 'cache_buster_cookie=1651581308568; cqcid=abSBHelXvtKkU1r6PhJpPw0t84; cquid=||; dwanonymous_025df3a570c4fd81b224498a5e681c66=abSBHelXvtKkU1r6PhJpPw0t84; shopPreference=women; E4X_CURRENCY=USD; __cq_dnt=0; dw_dnt=0; bfx.apiKey=54b0b7b0-c775-11ea-aaf6-db74ada4ea97; bfx.env=PROD; bfx.logLevel=ERROR; optimizelyEndUserId=oeu1651483529841r0.48705911661850054; run_fs_for_user=true; __cq_uuid=deswUK9xRibHFgwvea3cWGW1tc; AMCVS_5B7B123F5245ADFC0A490D45%40AdobeOrg=1; _gcl_au=1.1.2103688187.1651483546; s_ecid=MCMID%7C05052698958227168324307920887189938795; s_cc=true; sf_wdt_customer_id=jt4k7b8q6; sf_wdt_fingerprint=55883577735150; emailsignup=welcomeemailsignupdecline@gmail.com; _fbp=fb.1.1651483560164.346685212; ftr_ncd=6; __gads=ID=efd62009cee567cf:T=1651483561:S=ALNI_MbohKJJaMGo3iMn-kqT6MdZwV3oJQ; __wid=374573848; __pdst=865f273dffc34bec84c20041d4ae05f0; mdLogger=false; kampyle_userid=4369-80d5-d9e1-ebb3-f70d-7382-50ff-ad57; _svsid=020918a1d848939b3c49a3584b30dcc8; _pin_unauth=dWlkPU0yRXhPV1kwWkdZdE1UY3lNaTAwT0Rnd0xUaGlZVEF0WkdOaU16Sm1ZalptTVdRNA; allMySizesSelected=false; mySizesUrl=/c/women-s-apparel?srule=featured_newest&prefn1=sizeRefinement&prefv1=undefined; allMyDesignerSelected=false; mySizessUrlNotCombined=https://www.saksfifthavenue.com/c/women-s-apparel?prefn1=sizeRefinement&srule=featured_newest; myDesignersUrl=/c/women-s-apparel?srule=featured_newest&prefn1=brand&prefv1=undefined; myDesignersDeselectUrl=/c/women-s-apparel?srule=featured_newest; myDesignersUrlNotCombined=https://www.saksfifthavenue.com/c/women-s-apparel?prefn1=brand&srule=featured_newest; mySizesDeselectUrl=/c/women-s-apparel?srule=featured_newest; ku1-sid=OCcToOZyiEiqEb6K6tzSB; ku1-vid=53276d7c-3782-b79e-17b2-0dd976a7c59e; s_tbm14=1; bfx.currency=USD; bfx.language=en; _clck=g2hojh|1|f15|0; cache_buster_cookie=1651554639352; _abck=71D2483604ACC38D43844C005AA19D94~0~YAAQvYwsMUe85HWAAQAADGcSiQeX0llwEkkuhW9D43H2HZckMV3lPZt4HPvdfENTHPipCFgc1Se6a0i5rCwGqLo0B8+eeEmwYmWyuJRwzNBtR4H8yrv6Z8lssYBG1CmvQYa7sCKv4+FM/czlawJ9IfAspbHHzqfQmZ9He/vIJrDNNG3DqSY91j4cuglfR2hmkMN5WvUIvyUpUIKKbeBVuvsGInxm//ZrnTb1BRLaF6aaU4Yzqg8K9HIdmGi/XEItJSCCP9/5WVp7Dj7lCXVGSVmHnwKO1E9DJoZfCrl3w3XxPPCApLj7GdqL8vjvuZ1dk3IHcAkUIBQWaOIf1pECUUbH41GIgLmp0UTRWFAsm0sBqdRqNKx/IRbsZMLU0BLtcUhCEf7ldNsHf7LwAg/KoJFtS03qlsW1+4AbUBa2owmX~-1~-1~-1; itemID=0400015087628; __cq_bc=%7B%22bdms-SaksFifthAvenue%22%3A%5B%7B%22id%22%3A%220400015087628%22%7D%2C%7B%22id%22%3A%220400016092313%22%7D%2C%7B%22id%22%3A%220453820064224%22%7D%5D%7D; kampylePageLoadedTimestamp=1651569705182; LAST_INVITATION_VIEW=1651569721163; DECLINED_DATE=1651569726033; bfx.sessionId=afac4909-d62d-4b3e-a9d9-ef78c351cd52; bfx.country=IN; bfx.isInternational=true; rr_rcs=eF5j4cotK8lM4bEw1TXUNWQpTfYwNDA1MzOzNNO1NDUw0zUxSE7SNTc1s9Q1sTQzMAJKGhgZmAAAXBUMIA; bfx.currencyQuoteId=-1; bfx.lcpRuleId=; cbt-consent-banner=CROSS-BORDER%20Consent%20Banner; dwac_44e2d976c426d708b992de46eb=FTRIV4mbYaOpBI5AzrwHX0I8K0wlOMUebR4%3D|dw-only|||USD|false|US%2FEastern|true; sid=FTRIV4mbYaOpBI5AzrwHX0I8K0wlOMUebR4; dwsid=godh-3dYVNR0VaMAxLlkytWPAuDb-_BpsE9lTGIIe8FBvm9zoaRKqWdghL-a84llImlS5NdsasKWL46Ct_4S8w==; bm_mi=2D39F8C9B2200C2A03A4ACAC65192410~+gotlROZZ9nzrt6GlQrZRlcn7wmEPXP57jRgNOtgiUGbpZfk6PcaJlBr11dtTkYjs81WyuqJuIIes8eEeC8VZ3B0ZuhAjzJXHS8iwEw0ZzFwW4suD0g67iULrb9sONUcg80KMwc6475Panl4qDsagyq55xACXKZkLx7ouSM9ZcYyxBfwzd4ZXMnY0WvF1EusHx/etE2hxmVEB+sOmQDwsNsKwGYrssMgrel60E8kNcrS64E74KxUqabD4aWEPOGdYx3XCSkAwJFdfB8ILONirnP6e7EVlsIawYdBEhXl59MMBno/GK0UxabpqQaNLUPU/55ZRVyUSNXWPOE/Pwx2RQ==; AMCV_5B7B123F5245ADFC0A490D45%40AdobeOrg=-1124106680%7CMCIDTS%7C19115%7CMCMID%7C05052698958227168324307920887189938795%7CMCAAMLH-1652181664%7C12%7CMCAAMB-1652181664%7CRKhpRz8krg2tLO6pguXWp5olkAcUniQYPHaMWWgdJ3xzPWQmdj0y%7CMCOPTOUT-1651584064s%7CNONE%7CMCAID%7CNONE%7CvVersion%7C5.2.0%7CMCCIDH%7C1212071097; ak_bmsc=DB74F7010E6EF685C0029A2D02C553C8~000000000000000000000000000000~YAAQz4wsMfaaZ4aAAQAA2Q2niQ+Y9Kjvo3tF2gGbZnErf0lLsMsCDEhy3Sr8oCgffUfD+TsxivJO+AQct8dUQzxoduVCw1/DKOFG1vAtu5DKv+nai4O2xirxj4Xekc4cwcjj0wfKxF9TXMyYwj0Ae/kx2uNkrFYXIWTkq1PeGV/a8Z8VQn+qEj9oA63Mb0FdvX8PEarkx/XxPHexZu1IYffTA2cFzhSggZXuNo5+vopC2dOxYjN/Lx0u53b10JzS9618wfFuF2xAIV0khKwrfVXL/SgpJs+17GqN3GnKVeLG3t7aSjzSJvo0MTSQCSI/EJuHBdZika1wpQiXfWrTwyFwyCus6TTfTDkRniEdc+dARd4iE6DnDxl5oc4pQP+sQoYuhhZ6mnFqKWWTutNEBWMY1Jo9pXH9ZeB0hRANNavkLW/57agpERrfaHSV8u92NLpmD2o6mC6tvs+k+tPxVEXrxlsQMm3CBCKNMyFrZYLXqA9l+f33eBgfnthEj31SopH8FQKYf9/BqA==; __gpi=UID=0000051fe6f117d1:T=1651483561:RT=1651576875:S=ALNI_MYzNxcy-sqLwmbvaQAbdQFQ0HDKGA; AKA_A2=A; bm_sz=EE67CE5CA6FB47A6CA405CF26E116FC9~YAAQvYwsMeZNpImAAQAAXJ/iiQ8DmqJGMzm6bBG0u/+EdGjloMny0S91z17Ttwn31uBGctN1QZxFa1iTbspSVNysHjzwzbMLGxUzOIaJQlKD1thElROJJOhckUbKIOFoHuzChe3ELhHrpLUTsFJ4DCSyhzxqeViCtGwS29OErlRWnfZkHXtwFzUACjJutT4chdqokoSHWJ8TF8fC4bpY8yOQeIuCUCbBM1C7+v6DxZVlY/UDOTMYu4qZLUhaqIrzbP4iuGbzZ04RKGd01g8MEL3jsaIMoplts6N+rr4gUCBIeDjiT39JlPTy5+l8gk+CwkB5RodsXgd7dfPYZMdh9A8hT4I=~3491127~4338483; fs_uid=rs.fullstory.com#MJ8M4#5733027886653440:4848359187406848/1683019562; bfx.isWelcomed=true; s_tp=2882; s_ppv=saks.com%253Aproduct%2520detail%253Azimmermann%253Asilk%2520wrap%2520minidress%2C23%2C23%2C657; v0=1; __cq_seg=0~-0.24!1~0.13!2~-0.36!3~-0.41!4~-0.34!5~0.41!6~-0.23!7~0.35!8~0.30!9~0.28!f0~15~5; s_sq=%5B%5BB%5D%5D; visitor_id=844b02a1-b7bc-480e-934d-5e3c8d1cba4f; forterToken=73a69c03fe3546cd989c74ab037039f6_1651581306163__UDF43_9ck; _br_uid_2=uid%3D7543922904527%3Av%3D12.0%3Ats%3D1651483563473%3Ahc%3D45; _uetsid=e2bba7b0c9f911ec9c6c6deb59cc7ba9; _uetvid=e2bc9d30c9f911ecaedd01d9163401ef; kampyleUserSession=1651581313420; kampyleUserSessionsCount=13; kampyleSessionPageCounter=1; kampyleUserPercentile=38.18457037785527; sf_wdt_session_expiration_session=1651581313994; _clsk=qsk7br|1651581315687|4|0|i.clarity.ms/collect; akavpau_www_saks_com=1651581739~id=6a02b183d6e98a3a28a2cc464d9377b7; bm_sv=558BBDFBF1DB8E715C2FE37316553318~+7pJwXpVWicdXe/OLhL8L/i7ZxSKcWfYQCwbjGhTriyGN5U0TBNnB+vfocWUlF0ispprgsncYEN+HtnhQhKlnL28PvFBsnZEpLcT/Apk9saVJIE+tmRoIKu9o51qcIX8dunY41eULaZy2/PCm2Owftj2rF+FvsoE0Sm1Ogk0bTY=; RT="z=1&dm=saksfifthavenue.com&si=e34dd997-91f6-4cbd-a2fc-2856748bc673&ss=l2q4tol9&sl=2&tt=g7v&bcn=%2F%2F684d0d41.akstat.io%2F&ld=1olo&ul=4tnz"; sf_change_page=true; _abck=71D2483604ACC38D43844C005AA19D94~-1~YAAQxYwsMUXvaomAAQAADaTuiQdCZ2uIfU9+6plf+zmzjdAt4xjR0VSevhSbwD+ciisl2EYQfJKI75hKyXLcASiObNJ3gGr5vLMf9ZN27dd53e+7VHPwRjYSoGkIxTFlF8c0YU0CKC8atn0kV7xShHhgx6ADX9MdoQXOICDH8Zv2PJG2P0RbgMw5D6nNKkL0Iwk1S+ovGtvFeg8I6eT2WbyffO8dxveCxD6f7pbD1DAYbP68iV1nI7X5YJ1hN8UtFiGWx1xuXbAbCNcOn3DF/usKcVnb6MfXJLWAbCRAJAUeH9o+4r6xqZTR58G3thoBWxCwQxe6sLWVufDprA6NmtIHQcI92UCIlykhXcwJ/hkV5EGhk6c/AO9695N+tLOqnv0lekzapg==~0~-1~-1; ak_bmsc=ADD18C99A2F9935B86369D8716A525BB~000000000000000000000000000000~YAAQxYwsMRktaomAAQAA9uKqiQ8fetfa5tcaTlrsZfqtJQc2OE04X2eiCfVtBJhAcMggA1e4XTfe+FaS0AA1xGUWrfV1u1a0GYN0hcULz3i5VwX87PzN7X8wxYcxWf7m+dkUmpaeJoYMbemNOzn754Ww0R1CwEI2iYj3DAVBO0MMSKBA5o7lxcjU9IEEhpVxyNeg3lvIBXtQox8krpDSoF0rw1n9H9XLdt6hbAix3AQ9/Oh8s019lWF3O/xymRcQ41BmITjSqZP1AxCz7ZfZfU/H2T2BGY8RXi6Vl9+bw9shsVbIVHuFE1wmkPOKsccHxng+r6k/yddwO0i8UUSCPTT6aZXK4UJ9kaJTbbCUzqIiwEt/yJJP/WhvJ4HUVwhY5dy6Ew==; bm_mi=FF890B0B2729BC025E975954CB02D76C~DcQX46FNT3cgr/uMkeVjvT4oCfT17YNX8EO1dGb1ien9A0WKuODR+syrZqt35e5C9VbdoWINs7XOqJ1zuHdSPUMJ5zMs2ervYan73Gsr5RvT8lg8bzAoW42o6kgrFY69dwOY8NELi0uBvR+qj3Ch03Dekpaycbu0spR0YNz7/C2l2tPdzfVg+FVnHAAdyFjWFqpLhXJ6dWNjdZzrADml0pGh36fdIwjgwWgow/ZdfO22EowL3VYeGZZMK1RgqJJ4; bm_sv=558BBDFBF1DB8E715C2FE37316553318~+7pJwXpVWicdXe/OLhL8L/i7ZxSKcWfYQCwbjGhTriyGN5U0TBNnB+vfocWUlF0ispprgsncYEN+HtnhQhKlnL28PvFBsnZEpLcT/Apk9saVJIE+tmRoIKu9o51qcIX8SPKYbdv0YMQPflFCqVzk6SXbIUmOChZ7w2/ix0J1vjI=; bm_sz=C6A442335CC0B4D368D4F50B91107EF1~YAAQxYwsMVLbaomAAQAA3A7riQ8f9HV3u7tesby9mP4SHAnrFFqygfO1RdIfpOxzPa2L68otW8J44LsB7+2/rz66Ki9/HO9ljt2dFe1/Eoy1ZWgfjpAaylsq47UbSdKq9ncKlo5ubDKcDHeKM4DVb4SvanQeJjSeHk4psK8L57iVY5A1NwaR/HCN4/OLM9+fms+u4mMnRlv1O9Q6ugrE3xkXcbfXhQI3D0/s1uuagikvOuLO+g4I32nV1QUbqgSHBSCjd4CbRsQL34fOwcvlP/qi/eK2J+vdQ9YD7FC/bxQ+c1mazPkh7fWNVTy9UNVq0uNzNPZO+/m9Emzgia0D4kEa8/k=~3621175~4408376; E4X_CURRENCY=USD; __cq_dnt=0; akavpau_www_saks_com=1651581859~id=d6cd5036ff6a695d8522fcedb2e879ca; cqcid=abrtCKK37ktKPXgfOar3qYIKuE; cquid=||; dw_dnt=0; dwac_44e2d976c426d708b992de46eb=13vzibZxunYv3iJ77Zl8F2ZvOy9mINTYeLM%3D|dw-only|||USD|false|US%2FEastern|true; dwanonymous_025df3a570c4fd81b224498a5e681c66=abrtCKK37ktKPXgfOar3qYIKuE; dwsid=ESuAxhnUyU2LGoPWjFg6MaA_SGDJhafj3HfhwG4V5R6ZPgABE7RbwneT8qtzcb2Xx0B5iFiqyV9JME9Zwk5p7A==; shopPreference=women; sid=13vzibZxunYv3iJ77Zl8F2ZvOy9mINTYeLM; visitor_id=b08c98d1-d783-4036-a26f-2e764beca59c',
    'sec-ch-ua': '" Not A;Brand";v="99", "Chromium";v="100", "Google Chrome";v="100"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"Windows"',
    'sec-fetch-dest': 'document',
    'sec-fetch-mode': 'navigate',
    'sec-fetch-site': 'none',
    'sec-fetch-user': '?1',
    'upgrade-insecure-requests': '1',
    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36'

  }

  response = requests.request("GET", url, headers=headers, data=payload)

  soup = BeautifulSoup(response.content,'html.parser')
  product_URL = soup.find('a',class_="product-brand adobelaunch__brand").get_attribute_list('href')

  product_headers =headers = {
    'authority': 'www.saksfifthavenue.com',
    'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',
    'sec-ch-ua-mobile': '?0',
    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36',
    'Cookie': 'AKA_A2=A; _abck=71D2483604ACC38D43844C005AA19D94~-1~YAAQvYwsMSCzpImAAQAA9VYNigd5aJqrAH9UYfYL7uiBqF3JZwZjZM48qyJGAfy8IqNH3CZOQ3luU/nRWUbhFpd1a8M2Ysfkx7Ux6B4/B4DJhZ7PBfLB+72yWC8cF3Bl200hmD34l2+sXdS92ZjbnZO0Nq2+fUC9dewy97L+fBnDcbjVJUeawIKYrYqwvjdDNBCHag2WYeBNqkSAmPJYWebUp2+wXigs/I1peBqTjDppQ7qpcAvnWWkbJ+9ujb9+5CfvO18wLbet1pOWhTAEs5+bG0Q6/3/PPaVtQ1VWGH9vfxFkYEuRYGRY2wG0YZpQ31iiYIOR4VUpuTh+Mf6jO++6lfO7LEX6IOpqUdblZAwi4k9EgGAtZUVD68l5uRvEH00USlwbTIE=~-1~-1~-1; ak_bmsc=ADD18C99A2F9935B86369D8716A525BB~000000000000000000000000000000~YAAQxYwsMZ8ua4mAAQAAgagHig/RTUe07OhB1KHkXXwS/KSjakQHAoRM4qXkHD3FpNVKYU1eZYkNjZ9akMeRoSEbcmIXuwUDK50aev9OnlxCcH5bVpXgxwEE5ltmCa5ljvvCPxwDF4e0IjJ4yFo0boSA6BWSEkiuQW2GiuhJPUpWw2NLX+FMovnJj2nF8Z48CxiKh4gEPoaEIYNQPprmuVcbJqS1VKGZMN01RQD985C/FFF7tBrJTKVfTMneNDsdxMjBhSG9wec1goj4URdDEPciazUtZGMLDX/WYErGGk9o3TRkMrHF3vwiWJHkTd5fJ2XhYsPgi2E99h1pxgt7Xx+OFDewIBdWtyS+pChzoJrdjYkzeDRL1vibRSvIVAMkNAQeFA44sIaITdL+boS5ySh+MPYOOv3DVplpqsV5KFpP+8HQpkj8WISpHGCqEW7O0FDw3lQ73QS7QuOOji3Cqi8vSzKHNuIkpW+c4yyWv+CK5ixpE64z5q8O7n+eSLo=; bm_mi=FF890B0B2729BC025E975954CB02D76C~DcQX46FNT3cgr/uMkeVjvT4oCfT17YNX8EO1dGb1ien9A0WKuODR+syrZqt35e5C9VbdoWINs7XOqJ1zuHdSPUMJ5zMs2ervYan73Gsr5RvT8lg8bzAoW42o6kgrFY69dwOY8NELi0uBvR+qj3Ch03zhlxUL2w6pQT2bB/dO48MS/c7dmoFR7pWleMFTwHeZg/Jk4SdrNcE1riGW97JMJde+nSUowmwJYSsigodK8yqO9ei7DVbcHiIzfHd9uY4+3bBK+WDTypu57E1BxDOjKxO+9yZNpS2eayv0//fUo0LPFYDZBKmNrzfKW1DIavIp; bm_sv=558BBDFBF1DB8E715C2FE37316553318~+7pJwXpVWicdXe/OLhL8L/i7ZxSKcWfYQCwbjGhTriyGN5U0TBNnB+vfocWUlF0ispprgsncYEN+HtnhQhKlnL28PvFBsnZEpLcT/Apk9saVJIE+tmRoIKu9o51qcIX8ep1+Ga1s+go46RMj1xYhceHz0M5TMTO7NfAB44SD4VU=; bm_sz=C6A442335CC0B4D368D4F50B91107EF1~YAAQxYwsMVLbaomAAQAA3A7riQ8f9HV3u7tesby9mP4SHAnrFFqygfO1RdIfpOxzPa2L68otW8J44LsB7+2/rz66Ki9/HO9ljt2dFe1/Eoy1ZWgfjpAaylsq47UbSdKq9ncKlo5ubDKcDHeKM4DVb4SvanQeJjSeHk4psK8L57iVY5A1NwaR/HCN4/OLM9+fms+u4mMnRlv1O9Q6ugrE3xkXcbfXhQI3D0/s1uuagikvOuLO+g4I32nV1QUbqgSHBSCjd4CbRsQL34fOwcvlP/qi/eK2J+vdQ9YD7FC/bxQ+c1mazPkh7fWNVTy9UNVq0uNzNPZO+/m9Emzgia0D4kEa8/k=~3621175~4408376; E4X_CURRENCY=USD; __cq_dnt=0; akavpau_www_saks_com=1651583871~id=b5ea20dd6fd4981071899ef4dfeeb928; cqcid=abrtCKK37ktKPXgfOar3qYIKuE; cquid=||; dw_dnt=0; dwac_44e2d976c426d708b992de46eb=13vzibZxunYv3iJ77Zl8F2ZvOy9mINTYeLM%3D|dw-only|||USD|false|US%2FEastern|true; dwanonymous_025df3a570c4fd81b224498a5e681c66=abrtCKK37ktKPXgfOar3qYIKuE; dwsid=ESuAxhnUyU2LGoPWjFg6MaA_SGDJhafj3HfhwG4V5R6ZPgABE7RbwneT8qtzcb2Xx0B5iFiqyV9JME9Zwk5p7A==; shopPreference=women; sid=13vzibZxunYv3iJ77Zl8F2ZvOy9mINTYeLM; visitor_id=b08c98d1-d783-4036-a26f-2e764beca59c'
  }

  mainSoup = BeautifulSoup(requests.get("https://www.saksfifthavenue.com/"+product_URL[0],headers=product_headers).content,'html.parser')
  # print(mainSoup)
  
  json_data = mainSoup.find('script',type="application/ld+json")
  jd =json.loads(json_data.text)
  print(BeautifulSoup(jd["description"],'html.parser').text)
  print(BeautifulSoup(jd['offers']["url"],'html.parser'))

  # count = 0
  # a = BeautifulSoup(jd['image'],'html.parser')
  # for i in range(0,10):
  #     print(i)  
  # count += 1
  data_list.append(jd)

print(data_list)
print(len(data_list))
json_obj = json.dumps(data_list,indent=4,ensure_ascii=False)
json.loads(json_obj)
with open('Saks.json',"w",encoding="utf-8") as f:
  f.write(json_obj)